# Активный контекст проекта MoonBit

## Текущий фокус работы

- Завершение миграции серверной части на TypeScript.
- Настройка и отладка локальной среды разработки с использованием Docker Compose.
- Интеграция клиентской и серверной частей в Dockerized среде.
- Улучшение пользовательского интерфейса и навигации по приложению (продолжение).

## Последние изменения

- Серверная часть полностью переведена на TypeScript.
- Удалены устаревшие JavaScript файлы на сервере.
- Настроена локальная разработка серверной части с использованием Docker и `ts-node/esm`.
- Обновлены конфигурационные файлы сервера (tsconfig.json, package.json) для поддержки TypeScript и ES-модулей.
- Добавлены Dockerfile для клиента и сервера, а также docker-compose.yml для оркестрации.
- Настроен Redis как сервис в Docker Compose для кэширования данных на сервере.
- Обновлена конфигурация клиента (vite.config.js) для корректного проксирования API-запросов к серверу в Docker-сети.
- Расширена и актуализирована конфигурация сервера (src/config/index.ts) для работы в новой среде, добавлены переменные окружения и CORS.
- Обновлены тестовые файлы и конфигурация Jest на сервере для работы с TypeScript.
- Добавлены тесты для ключевых компонентов и сервисов:
  - Тестирование компонентов (About, UpcomingEvents, BitcoinChartWithLunarPhases)
  - Тестирование сервисов (AstroService, EventsService)
  - Тестирование маршрутизации и React Router
  - Тестирование функциональности темной/светлой темы
- Настроена среда тестирования с использованием vitest и jsdom
- Добавлена страница "О проекте" с подробной информацией о проекте, его целях и технологиях
- Реализована маршрутизация с использованием React Router для навигации по приложению
- Улучшен интерфейс пользователя и система стилизации компонентов
- Обновлен README.md с актуальной информацией о проекте и последних улучшениях
- Улучшено форматирование и стилизация виджета предстоящих событий
- Добавлены скроллбары с прозрачностью для улучшения пользовательского опыта
- Оптимизирована работа с отображением большого количества событий
- Унифицированы стили и форматирование компонентов

## Активные решения и соображения

### Внедрение маршрутизации

- Используется React Router для создания многостраничного приложения
- Реализована базовая структура с основными маршрутами (главная страница и "О проекте")
- В Header добавлена навигационная ссылка для перехода на страницу "О проекте"
- Структура проекта адаптирована для поддержки многостраничного интерфейса

### Улучшение пользовательского интерфейса

- Добавлены стили для скроллбаров с прозрачностью для улучшения визуального восприятия
- Улучшена стилизация компонентов с учетом светлой и темной темы
- Оптимизирована высота виджетов для более компактного и информативного отображения
- Улучшена работа с отображением дат и временных интервалов

### Страница "О проекте"

- Страница содержит подробную информацию о концепции и целях проекта
- Описаны основные функции приложения
- Представлен технологический стек клиентской и серверной частей
- Добавлен дисклеймер с важной информацией для пользователей
- Реализована адаптивная верстка для различных устройств

### Миграция на TypeScript

- Серверная часть переведена с JavaScript на TypeScript для улучшения поддерживаемости и типизации.
- Обновлены зависимости и скрипты сборки/запуска для работы с TypeScript.
- Созданы TypeScript заглушки для сервисов, контроллеров и репозиториев.

### Локальная разработка с Docker

- Внедрен Docker Compose для упрощения локальной разработки и изоляции сервисов.
- Клиентская и серверная части, а также Redis, теперь работают в отдельных контейнерах.
- Настроено взаимодействие между контейнерами через внутреннюю Docker-сеть.
- Проксирование API-запросов с клиента на сервер реализовано через конфигурацию Vite.

### Соглашение по именованию файлов

В проекте MoonBit используется следующее соглашение по именованию файлов:

- **PascalCase** для именования классов, компонентов и сервисов (например, `AstroService.ts`, `BitcoinPrice.jsx`)
- **camelCase** для именования утилит, хуков и функций (например, `astroEvents.js`, `useLocalStorage.js`)

Это соответствует общепринятым стандартам в React и JavaScript/TypeScript, где:
- PascalCase используется для именования компонентов и классов
- camelCase используется для функций и переменных

## Следующие шаги

1. ✅ Добавить страницу "О проекте" с подробной информацией
2. ✅ Внедрить маршрутизацию с использованием React Router
3. ✅ Улучшить интерфейс и навигацию по приложению
4. ✅ Обновить README.md и Memory Bank с актуальной информацией
5. ✅ Полностью перевести сервер на TypeScript
6. ✅ Настроить локальную среду разработки с Docker Compose
7. Реализовать анализ корреляции между лунными фазами и движением цены биткоина
8. Добавить кнопку обновления данных для ручного получения актуальной информации
9. Улучшить визуализацию маркеров на графике для лучшего выделения важных событий
10. Добавить возможность скрытия/отображения разных типов маркеров на графике
11. Добавить визуальную индикацию источника данных (API или моковые) для пользователя
12. Расширить функциональность приложения и добавить дополнительные страницы

## Текущие задачи

- Реализация логики сервисов и контроллеров на TypeScript.
- Интеграция с внешними API через новые TypeScript сервисы.
- Внедрение логики кэширования с использованием Redis в TypeScript сервисах.
- Проверка и обновление тестов для соответствия TypeScript коду.
- Отладка взаимодействия между клиентской и серверной частями в Dockerized среде.
